@model List<SelectListItem>

@{
    ViewBag.Title = "Current";
}

<h2 style="color:#6f0c3b"><b>Timesheet</b></h2>

@if (Model.Count() == 0)
{
    <div class="alert alert-danger">
        Nie jesteś przypisany do żadnego projektu! Nie masz możliwości edycji swojego timesheetu.
    </div>
}
else
{
    //information alerts
    <div class="alert alert-info">
        W tej sekcji masz możliwość edycji swojego timesheetu. Możesz wybrać projekt do którego jesteś przypisany,
        a następnie pracować nad zdefiniowanymi wcześniej zadaniami lub dodać nowe.
    </div>

    //timesheet
    //redundant security
    if (ViewBag.timesheetStart != null && ViewBag.timesheetFinish != null && ViewBag.timesheetStateName != null && ViewBag.projectName != null)
    {
        //dropdown menu
    <div class="panel panel-default" style="width:auto">
     <div class="panel-heading">Wybierz projekt, a następnie kliknij przejdź, by wyświetlić <b>Timesheet</b></div>
     <div class="panel-body">
        @using (Html.BeginForm())
        {
            @Html.DropDownList("listOfProjects", Model, htmlAttributes: new { @class = "form-control dropdown", @style = "width:auto; display:inline-table;" })
            <input type="submit" value="Przejdź" class="btn btn-default btn-main" style="width:80px; margin-left:6px;" />
        }
    </div>
    </div>
   
        <div class="panel panel-primary">
            <div class="panel-heading">
                <div class="col">                     
                    <div class="row">
                        <div class="col-sm-10">
                            <!--name of project-->
                            <b>@ViewBag.projectName</b><br>
                            <!-- time -->
                            <b>od:</b> @ViewBag.timesheetStart <b>do:</b> @ViewBag.timesheetFinish
                        </div>
                        <div class="col-sm-2" style="text-align:center">
                            <br><b>Stan:</b> @ViewBag.timesheetStateName <br>
                        </div>
                    </div>
                </div>                     
            </div>           
            <div class="panel-body">Panel Content</div>
            <div class="panel-footer">
                <div class="col">
                    <div class="row">
                        <div class="col-sm-10">
                            <!--alert about saving employee work-->
                            <div class="alert alert-danger" style="margin-bottom:0px">
                                <strong>Uwaga!</strong> Zapisz rezultat swojej pracy, w przeciwnym wypadku zmiany zostaną utracone!
                            </div>
                        </div>
                        <div class="col-sm-2" style="text-align:center; padding: 10px;">
                            <input type="submit" value="Zapisz zmiany" class="btn btn-default btn-main" style="width:auto;" />
                        </div>
                    </div>
                </div>
            </div>
        </div>
    }
    

}



